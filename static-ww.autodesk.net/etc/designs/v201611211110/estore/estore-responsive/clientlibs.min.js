define("estore.analytics",["global.digitalData","global.analytics"],function(d,b){var a=function(i,k,l,j){if(typeof b!=="undefined"&&typeof b.context!=="undefined"&&typeof b.context.changeContext=="function"){b.context.changeContext({event:{eventType:"estore_page_error"},error:{errorType:i,errorDetails:[{errorCode:k,errorReason:l,errorMessage:j}]}})
}};
var h=function(k){d.products=[];
var i=k.items.META_SUBSCRIPTION||k.items.BIC_SUBSCRIPTION||[],j=(k.items.PERPETUAL||[]).concat((k.items.MAINTENANCE_SUBSCRIPTION||[]));
if(i){Array.prototype.push.apply(d.products,i.map(c).reduce(function(l,m){return l.concat(m)
},[]))
}if(j){Array.prototype.push.apply(d.products,j.map(f))
}return d
};
function f(i){var j=Object.assign({},i,{billingPlan:{billingPeriod:"",billingPeriodCount:"",billingCycleCount:""}});
return e(j)
}function c(i){return i.billingPlans.map(function(k){var j=Object.assign({},i,{price:k.price,billingPlan:{billingPeriod:k.billingPeriod,billingPeriodCount:""+k.billingPeriodCount,billingCycleCount:k.billingCycleCount},promotion:k.promotion});
return e(j)
})
}function e(j){var i={priceID:j.price.priceId,productQuantity:"1",productDisplayName:j.name,productTypeID:j.id,productType:j.type,productLine:j.productLine,productExternalKey:j.externalKey,productSupportLevel:j.supportLevel,productPlatform:j.platform||"",productUsageType:j.usageType||"",productLanguages:j.languages||["en"],productOfferingDetail:{offeringName:j.offeringDetail.name,offeringExternalKey:j.offeringDetail.externalKey,offeringTaxCode:j.offeringDetail.taxCode},productBillingPlan:j.billingPlan,productCurrencies:g(j.price)};
if(j.promotion){i.productPromotions=[{promotionID:j.promotion.id,promotionName:j.promotion.promoName,promotionType:j.promotion.type}]
}return i
}function g(j){var k=1,i={usd:{currencyCode:"",productUnitListPrice:"",productDiscountPrice:"",productUnitPrice:"",productUnitTotalPrice:"",productUnitListTotalPrice:"",productTotalPrice:""},localCurrency:{currencyCode:"",productUnitListPrice:"",productDiscountPrice:"",productUnitPrice:"",productUnitTotalPrice:"",productUnitListTotalPrice:"",productTotalPrice:""}};
if(j.currency!=="USD"){i.localCurrency={currencyCode:j.currency,productUnitListPrice:j.amountBeforeDiscount||j.amount,productDiscountPrice:j.discount||"0.00",productUnitPrice:j.amount,productVATExemptionAmount:j.vatAmount||"0.00",productVatPercentage:j.vatPercentage||"0.00",productUnitTotalPrice:j.amountAfterDiscountWithVat,productUnitListTotalPrice:j.amountBeforeDiscountWithVat,productTotalPrice:(+j.amountAfterDiscountWithVat*k).toFixed(2)}
}else{i.usd={currencyCode:"USD",productUnitListPrice:j.amountBeforeDiscount||j.amount,productDiscountPrice:j.discount||"0.00",productUnitPrice:j.amount,productUnitTotalPrice:j.amount,productUnitListTotalPrice:j.amountBeforeDiscount||j.amount,productTotalPrice:(+j.amount*k).toFixed(2)}
}return i
}return{trackEventError:a,mapProductPricing:h}
});
(function(a,b){var c="currencyFormatter";
if(typeof define==="function"&&define.amd){define(c,function(){return(b())
})
}else{a[c]=b()
}}(window.adsk,function(){var a={"en-US":{code:"USD",symbol:"&#36;",delimiter:",",radix:".",format:"[s]{p}"},"en-GB":{code:"GBP",symbol:"&#163;",delimiter:",",radix:".",format:"[s]{p}"},"de-DE":{code:"EUR",symbol:"&#128;",delimiter:".",radix:",",format:"{p} [s]"},"fr-FR":{code:"EUR",symbol:"&#128;",delimiter:" ",radix:",",format:"{p} [s]"},"it-IT":{code:"EUR",symbol:"&#128;",delimiter:".",radix:",",format:"[s] {p}"},"es-ES":{code:"EUR",symbol:"&#128;",delimiter:".",radix:",",format:"{p} [s]"},"en-EU":{code:"EUR",symbol:"&#128;",delimiter:".",radix:",",format:"{p} [s]"},"en-AU":{code:"AUD",symbol:"AUD",delimiter:",",radix:".",format:"[s] {p}"},"en-SG":{code:"USD",symbol:"&#36;USD",delimiter:",",radix:".",format:"[s] {p}"},"ja-JP":{code:"JPY",symbol:"&#165;",delimiter:",",radix:".",format:"[s]{p}"},"ko-KR":{code:"KRW",symbol:"&#8361;",delimiter:",",radix:".",format:"[s] {p}"}};
function b(c){this.locale=c;
this.currencyFormat=a[c]
}b.prototype.parseFormattedPrice=function(e){var c=/\D*((?:\d{1,3})?(?:[,. ]\d{3})*)[.,]?(\d{2})?/;
var d=e.match(c);
var f=0;
if(d&&d.length>1){f=d[1].replace(/[^\d]/g,"");
if(d[2]){f=f+"."+d[2]
}}return parseFloat(f)
};
b.prototype.getFormattedPrice=function(e){var c=e.toFixed(2).split(".");
var d;
d=c[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.currencyFormat.delimiter);
d=d+this.currencyFormat.radix+(c[1]?c[1]:"00");
return this.currencyFormat.format.replace("{p}",d).replace("[s]",this.currencyFormat.symbol)
};
b.prototype.reformatPrice=function(c){var d=this.parseFormattedPrice(c);
return this.getFormattedPrice(d)
};
b.prototype.getCurrencyCode=function(){return this.currencyFormat.code
};
return{forLocale:function(c){var d=$(document.documentElement).data("adsk-locale");
if(c&&a[c]){return new b(c)
}else{if(d&&a[d]){return new b(d)
}else{return new b("en-US")
}}}}
}));
define("geolocation-controller",["global.analytics"],function(a){var e={"STORE-NAMER":"US","STORE-FR":"FR","STORE-UK":"GB","STORE-IT":"IT","STORE-ES":"ES","STORE-DE":"DE","STORE-EU":"GB"};
var b=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","CH","GB"];
var d=["US","CA"];
var c={getCountry:function(){return new Promise(function(f){try{if(a&&a.apis&&a.apis.demandbase){f(a.apis.demandbase.country_code.toUpperCase())
}else{if(a&&a._core&&a._core.fireOnDemandbaseSuccess){a._core.fireOnDemandbaseSuccess(function(){f(a.apis.demandbase.country_code.toUpperCase())
});
a._core.fireOnDemandbaseFailure(function(){f("")
})
}}}catch(g){console.warn(g);
f("")
}})
},getCountryImmediately:function(){return a&&a.apis&&a.apis.demandbase&&a.apis.demandbase.country_code.toUpperCase()
},getCountryWithDefault:function(f){return new Promise(function(g){var i="";
try{if(a&&a.apis&&a.apis.demandbase){i=a.apis.demandbase.country_code.toUpperCase();
g(c.getDefaultSupportedCountry(f,i))
}else{a._core.fireOnDemandbaseSuccess(function(){i=a.apis.demandbase.country_code.toUpperCase();
g(c.getDefaultSupportedCountry(f,i))
});
a._core.fireOnDemandbaseFailure(function(){g(c.getMappedDefaultCountry(f))
})
}}catch(h){console.error(h);
g(c.getMappedDefaultCountry(f))
}})
},getDefaultSupportedCountry:function(f,g){if(c.isNamerStore(f)){return d.indexOf(g)!==-1?g:c.getMappedDefaultCountry(f)
}else{if(c.isEmeaStore(f)){return b.indexOf(g)!==-1?g:c.getMappedDefaultCountry(f)
}}},getMappedDefaultCountry:function(f){return e[f]
},getUrlParameter:function(g,f){var l={};
if(g){var k=g.split("?")[1].split("&");
for(var j=0;
j<k.length;
j++){var h=k[j].split("=");
if(!h[0]){continue
}l[h[0]]=h[1]||true
}}return l[f]
},isNamerStore:function(f){return f==="STORE-NAMER"
},isEmeaStore:function(f){return["STORE-FR","STORE-UK","STORE-IT","STORE-ES","STORE-DE","STORE-EU"].indexOf(f)!==-1
},supportedEmeaCountries:b,supportedNamerCountries:d};
return c
});
(function(){define("uuid",function(){function a(){}a.generate=function(){var c=Date.now();
var b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var d=(c+Math.random()*16)%16|0;
c=Math.floor(c/16);
return(e=="x"?d:(d&3|8)).toString(16)
});
return b
};
a.persist=function(){if(localStorage.getItem("estoreVisitorId")==null){localStorage.setItem("estoreVisitorId",a.generate())
}};
a.persist();
return a
})
}(window.adsk));
define("liveagent-controller",["jquery","global.analytics","adsk.estore.menu"],function(d,b,c){function a(e){var f=this;
this.options=d.extend({liveAgentEndpoint:"https://d.la1s1.salesforceliveagent.com/chat",showWhenOnlineId:"liveagent_button_online_573300000001bIi",showWhenOfflineId:"liveagent_button_offline_573300000001bIi",chatButtonId:"573300000001bIi",organizationId:"00D300000008uIL",chatDeploymentId:"572300000001aHX",automatedInviteDeploymentId:"572300000001aHc",automatedInviteButtonId:"573300000001bIn",chatWindowHeight:510,chatWindowWidth:523},e);
liveagent.setChatWindowHeight(this.options.chatWindowHeight);
liveagent.setChatWindowWidth(this.options.chatWindowWidth);
liveagent.setCustomVariable("chatInitiated",false);
d("#"+this.options.showWhenOnlineId).click(function(){liveagent.setCustomVariable("chatInitiated",true);
liveagent.startChat(f.options.chatButtonId)
})
}a.prototype.initializeChatButton=function(){var f=this;
liveagent.addButtonEventHandler(this.options.chatButtonId,function e(g){if(g===liveagent.BUTTON_EVENT.BUTTON_AVAILABLE){d("#"+f.options.showWhenOnlineId).attr("data-wat-content-type","customer-chat").attr("data-wat-content-name","live-agent")
}});
liveagent.addButtonEventHandler(this.options.automatedInviteButtonId,function e(g){if(g===liveagent.BUTTON_EVENT.BUTTON_AVAILABLE&&window.analytics&&b.context&&typeof b.context.changeContext=="function"){b.context.changeContext({event:{eventType:"estore_chat_invitation_displayed"},liveChat:{chatExperience:"",chatRule:"",platformSystem:"live agent"}})
}});
liveagent.init(this.options.liveAgentEndpoint,this.options.chatDeploymentId,this.options.organizationId);
window._laq=window._laq||[];
window._laq.push(function(){liveagent.showWhenOnline(f.options.chatButtonId,document.getElementById(f.options.showWhenOnlineId));
liveagent.showWhenOffline(f.options.chatButtonId,document.getElementById(f.options.showWhenOfflineId))
})
};
a.prototype.initializeAutomatedInvite=function(){if(!d(document.body).hasClass("e-menu-mode-small")){liveagent.init(this.options.liveAgentEndpoint,this.options.automatedInviteDeploymentId,this.options.organizationId)
}else{d(document).one(c.events.CHANGE_LAYOUT,function(e,f){if(f===c.layoutModes.large){liveagent.init(this.options.liveAgentEndpoint,this.options.automatedInviteDeploymentId,this.options.organizationId)
}}.bind(this))
}};
return a
});
(function(){define("adsk.estore.chooser",["angular","ngStorage","adsk.estore.chooser.mainController","adsk.estore.chooser.subscriptionTermController","adsk.estore.chooser.advancedSupportController","adsk.estore.chooser.pricingBoxController","adsk.estore.chooser.boxesSubscriptionTermController","adsk.estore.chooser.backendDataService","adsk.estore.chooser.pelicanPricing","adsk.estore.chooser.persistence","adsk.estore.chooser.constants","adsk.estore.chooser.pelicanAddToCartButtonDirective","adsk.estore.chooser.directives.loadingSpinner","adsk.estore.chooser.directives.paymentOptions"],function(h,c,n,g,j,b,f,e,m,i,l,k,d,a){return function(o){h.module("EstoreChooserModule",["ngStorage"]).config(["$locationProvider",function(p){p.html5Mode({enabled:true,requireBase:false})
}]).run(["BackendDataService",function(p){p.set(o)
}]).constant("Constants",l).factory("BackendDataService",e).factory("Persistence",i).factory("PelicanPricing",m).controller("MainController",n).controller("SubscriptionTermController",g).controller("AdvancedSupportController",j).controller("PricingBoxController",b).controller("BoxesSubscriptionTermController",f).directive("pelicanAddToCartButton",k).directive("loadingSpinner",d).directive("paymentOptions",a);
h.element(document).ready(function(){h.bootstrap(document.getElementById("estore-chooser"),["EstoreChooserModule"])
})
}
})
})();
define("adsk.estore.chooser.mainController",["estore.analytics","global.digitalData","geolocation-controller"],function(b,c,a){var d=function(f,l,j,i,g,k){f.dictionary=i.get("dictionary");
var e=i.get("backendData");
var h=function(){f.pricing.byTerm=f.pricingTree[j.getSupport()]&&f.pricingTree[j.getSupport()][j.getTerm()]||{};
f.$broadcast(g.EVENTS.REFRESH_PRICING)
};
a.getCountry().then(function(m){f.country=m;
f.$apply()
});
f.getPromotionString=function(n){var o="";
var p=n.promotion;
var m=[];
var q=i.get("backendPromotionText");
if(p){o=q[j.getTerm()+j.getSupport()];
if(!o){if(p.promoHeadline){m.push(p.promoHeadline)
}if(p.promoSubHeadline){m.push(p.promoSubHeadline)
}o=m.join(", ")
}}return o
};
f.visitorId=localStorage.estoreVisitorId;
f.cartUrl=k(e.cartUrl);
f.cartButtonBackground="#"+e.addToCartButtonColor;
f.cartButtonForeground="#"+e.addToCartButtonLabelColor;
f.webservice={loading:true,loaded:false,displayError:false};
f.pricing={byTerm:null};
f.$on(g.EVENTS.SUBSCRIPTION_TERM_SELECTION,function(n,m){j.setTerm(m);
h()
});
f.$on(g.EVENTS.ADVANCED_SUPPORT_SELECTION,function(n,m){j.setSupport(m);
h()
});
l.then(function(m){f.pricingTree=m.getPricingTree().subscription||{};
if(typeof f.pricingTree.productLine==="undefined"){f.webservice.displayError=true;
return
}j.init(f.pricingTree);
h();
b.mapProductPricing(m.getRawData());
f.webservice.loaded=true
},function(){f.webservice.displayError=true
},function(){})["finally"](function(){f.webservice.loading=false;
if(c&&c.dataLoad&&c.dataLoad.chooserPricing){c.dataLoad.chooserPricing.resolve()
}})
};
d.$inject=["$scope","PelicanPricing","Persistence","BackendDataService","Constants","$interpolate"];
return d
});
define("adsk.estore.chooser.subscriptionTermController",["angular"],function(a){var b=function(j,c,k,i){var d=c.get("backendData");
var h=c.get("dictionary");
j.ui=(function(){var l=d.subscriptionTermBoxExpand;
return{isExpanded:l,isHidden:d.subscriptionTermBoxHide,handleExpand:function(){l=!l;
this.isExpanded=l
},selectedTerm:null,handleSelect:function(m){this.selectedTerm=m;
j.$emit(k.EVENTS.SUBSCRIPTION_TERM_SELECTION,m.id)
}}
})();
j.filterTerms=function(){};
var e=function(){var m=j.pricingTree[i.getSupport()];
var q=[];
var p;
var l=m["1month"]?m["1month"].price.currency:"";
var o=m["1month"]?m["1month"].price.amountBeforeDiscountFormatted:"";
var n=m["1year"]?m["1year"].price.amountBeforeDiscountFormatted:"";
for(p in m){var r=a.extend(m[p],{id:p,strings:{name:h[p]["term-name"],description:h[p]["term-description"],only:h[p]["term-only"]},recommend:d.recommendedTerm===p});
q.push(r)
}j.terms=q;
j.priceCurrency=l;
j.lowPrice=g(o);
j.highPrice=g(n);
j.filterTerms()
};
var g=function(l){var m=document.createElement("textarea");
m.innerHTML=l;
return m.value
};
var f=function(){e();
a.forEach(j.terms,function(l){if(l.id===i.getTerm()){j.ui.selectedTerm=l
}});
j.ui.isSingle=j.terms.length===1
};
j.$on(k.EVENTS.REFRESH_PRICING,f)
};
b.$inject=["$scope","BackendDataService","Constants","Persistence"];
return b
});
define("adsk.estore.chooser.advancedSupportController",["angular"],function(a){var b=function(d,f,e,g){var c=f.get("backendData");
d.ui={handleSelect:function(h){d.ui.selectedOption=h;
d.$emit(e.EVENTS.ADVANCED_SUPPORT_SELECTION,h)
},isExpanded:c.advancedSupportBoxExpand,isHidden:c.advancedSupportBoxHide,handleExpand:function(){this.isExpanded=!this.isExpanded
}};
d.$on(e.EVENTS.REFRESH_PRICING,function(){d.ui.isAvailable=typeof d.pricingTree.advanced!=="undefined";
d.ui.isIncluded=d.ui.isAvailable&&typeof d.pricingTree.basic==="undefined";
d.ui.selectedOption=g.getSupport()
})
};
b.$inject=["$scope","BackendDataService","Constants","Persistence"];
return b
});
define("adsk.estore.chooser.pricingBoxController",["angular"],function(a){var b=function(d,f,e,g){var c=f.get("backendData");
d.ui={urlNortonLogo:c.nortonSecuredLogo,hidePaymentOptionsTitle:c.hidePaymentOptionsTitle,paymentOptionsToDisplay:c.paymentOptionsToDisplay};
d.$on(e.EVENTS.REFRESH_PRICING,function(j){var h=d.pricing.byTerm.price||{};
var i=d.pricing.byTerm.price||{};
var k=i.priceId||"";
var l=i.promotion?i.promotion.id:"";
d.ui.term={termLabel:d.dictionary[g.getTerm()]?d.dictionary[g.getTerm()]["term-label"]:"",perTerm:d.dictionary[g.getTerm()]?d.dictionary[g.getTerm()]["per-term"]:"",showAdvancedSupport:g.getSupport()==="advanced",hasDiscount:h.hasDiscount,beforeDiscountPrice:h.amountBeforeDiscountWithVatFormatted||h.amountBeforeDiscountFormatted,afterDiscountPrice:h.amountAfterDiscountWithVatFormatted||h.amountFormatted,showVat:h.vatAmount,promotion:d.getPromotionString(h),priceIdList:k,promoIds:l}
})
};
b.$inject=["$scope","BackendDataService","Constants","Persistence"];
return b
});
define("adsk.estore.chooser.boxesSubscriptionTermController",["angular"],function(a){var b=function(e,h,f,i,d){var c=h.get("backendData");
var g=h.get("backendData","termsToDisplay")||[];
d("SubscriptionTermController",{$scope:e});
e.ui=a.extend(e.ui,{urlNortonLogo:c.nortonSecuredLogo,paymentOptionsToDisplay:c.paymentOptionsToDisplay});
e.filterTerms=function(){var j=[];
var l,k;
for(l=0;
l<g.length;
l++){for(k=0;
k<e.terms.length;
k++){if(e.terms[k].id===g[l]){j.push(e.terms[k])
}}}e.terms=j
}
};
b.$inject=["$scope","BackendDataService","Constants","Persistence","$controller"];
return b
});
define("adsk.estore.chooser.pelicanAddToCartButtonDirective",function(){return function(){return{scope:{cartUrl:"=",country:"=",priceIdList:"=",promoIds:"=",visitorId:"=",cartButtonBackground:"=",cartButtonForeground:"=",addToCartLabel:"="},templateUrl:"pelican-add-to-cart-button.html"}
}
});
define("adsk.estore.chooser.directives.loadingSpinner",function(){return function(){return{templateUrl:"loading-spinner.tpl.html"}
}
});
define("adsk.estore.chooser.directives.paymentOptions",function(){return function(){return{templateUrl:"payment-options.tpl.html"}
}
});
define("adsk.estore.chooser.backendDataService",function(){return function(){var b;
var a=function(d,c){var e=c.shift();
return c.length?a(d[e],c):e?d[e]:d
};
return{set:function(c){b=c
},get:function(){return a(b,Array.prototype.slice.apply(arguments))
}}
}
});
define("adsk.estore.chooser.constants",function(){return{EVENTS:{ADVANCED_SUPPORT_SELECTION:"advanced-support-selection",SUBSCRIPTION_TERM_SELECTION:"subscription-term-selection",REFRESH_PRICING:"refresh-pricing"},PERSISTENCE:{MAX_STACK_SIZE:5,LOCAL_STORAGE_KEY:"estoreChooserHistory"},METASUBSCRIPTION:"META_SUBSCRIPTION",BICSUBSCRIPTION:"BIC_SUBSCRIPTION",MAINTENANCE_SUBSCRIPTION:"MAINTENANCE_SUBSCRIPTION",SUPPORT_LEVEL_BASIC:"BASIC",SUPPORT_LEVEL_ADVANCED:"ADVANCED",NORMALIZED_PURCHASETYPE_SUBSCRIPTION:"subscription",NORMALIZED_SUPPORT_BASIC:"basic",NORMALIZED_SUPPORT_ADVANCED:"advanced",REQUEST_RETRY_MAX:2,PRICE_TYPES:["amount","amountAfterDiscountWithVat","amountBeforeDiscount","amountBeforeDiscountWithVat","discount","vatAmount"]}
});
define("adsk.estore.chooser.pelicanPricing",["angular","currencyFormatter","estore.analytics","global.digitalData"],function(b,e,a,c){var d=function(n,i,h,j,f,g){var k=b.element(document.documentElement).data("adsk-locale"),l=e.forLocale(k);
var m=function(t){var u=function(A){var z={},y=n.PRICE_TYPES;
if(A.price){z.hasDiscount=parseInt(A.price.discount,10)>0;
y.forEach(function(B){if(A.price.hasOwnProperty(B)){if(typeof A.price[B]==="string"){z[B+"Formatted"]=x(parseFloat(A.price[B]))
}else{if(typeof A.price[B]==="number"){z[B+"Formatted"]=x(A.price[B])
}}}});
z=b.extend(z,A.price);
if(A.promotion){z.promotion=b.extend({},A.promotion)
}}return z
};
var x=function(y){return j.trustAsHtml(l.getFormattedPrice(y))
};
var v=function(y){return y&&y.billingPeriodCount&&y.billingPeriod?y.billingPeriodCount+y.billingPeriod.toLocaleLowerCase():undefined
};
var w=function(y){return y?y.toLowerCase():undefined
};
var s=function(){var y={},A,z;
if(!t||!t.items){return y
}z=t.items[n.METASUBSCRIPTION]||t.items[n.BICSUBSCRIPTION]||[];
A={};
z.forEach(function(B){var C=w(B.supportLevel);
A[C]=A[C]||{};
B.billingPlans.forEach(function(F){var D=v(F);
var E=u(F);
A[C][D]=A[C][D]||{};
A[C][D].price=E;
A.productLine=B.productLine
})
});
y[n.NORMALIZED_PURCHASETYPE_SUBSCRIPTION]=A;
return y
};
var r=function(B){var y=[],A;
if(!B){return y
}if(B.price){B.price.forEach(function(C){y.push(C.priceId)
})
}for(A in B){var z;
if(B.hasOwnProperty(A)&&B[A]!=="price"&&B instanceof Object){z=r(B[A]);
if(z){Array.prototype.push.apply(y,z)
}}}y=y.filter(function(D,E,C){return C.indexOf(D)===E
});
return y
};
var p=function(B,A){var y,z;
y=(z=A[B.support])&&(z=z[B.subscription])&&z.price;
return y
};
var o=function(){var y;
if(!t||!t.items){return
}y=t.items[n.METASUBSCRIPTION]||t.items[n.BICSUBSCRIPTION]||[];
y.forEach(function(z){z.billingPlans=z.billingPlans||[];
z.billingPlans.sort(function(B,A){return B.billingPeriod===A.billingPeriod?B.billingPeriodCount-A.billingPeriodCount:B.billingPeriod==="MONTH"?-1:1
})
})
};
var q=function(){function y(z){return z.usageType==="COM"&&(z.supportLevel===undefined||z.supportLevel===n.SUPPORT_LEVEL_ADVANCED||z.supportLevel===n.SUPPORT_LEVEL_BASIC)
}if(!t||!t.items){return
}if(t.items[n.BICSUBSCRIPTION]){t.items[n.BICSUBSCRIPTION]=t.items[n.BICSUBSCRIPTION].filter(y)
}if(t.items[n.METASUBSCRIPTION]){t.items[n.METASUBSCRIPTION]=t.items[n.METASUBSCRIPTION].filter(y)
}};
q();
o();
return{getRawData:function(){return t
},getPricingTree:s,getAllPrices:r,getPricesByState:p}
};
return(function(){var r=0;
var q=h.defer();
var p=false;
var o=function(){var s=h.defer();
f(function(){p=true;
s.resolve()
},20000);
i({method:"GET",url:g.get("backendData","pelicanDataUrl"),timeout:s.promise}).then(function(t){q.resolve(m(t.data))
},function(t){var u="";
var w="";
var x="";
var v=g.get("dictionary")["service-error"];
r++;
if(r<n.REQUEST_RETRY_MAX){q.notify("try again!");
o()
}else{if(p){u="configurator timeout"
}else{if(t.status<=0){u="system error"
}else{u=t.status.toString()
}if(typeof t.data!=="undefined"&&typeof t.data.error!=="undefined"){w=t.data.error.code;
x=t.data.error.message
}}a.trackEventError(u,w,x,v);
q.reject(t)
}})
};
o();
return q.promise
})()
};
d.$inject=["Constants","$http","$q","$sce","$timeout","BackendDataService"];
return d
});
define("adsk.estore.chooser.persistence",["angular"],function(a){var b=function(i,c,e,k){var j;
var g=function(l){j.support=l;
e.search("support",l)
};
var h=function(l){j.term=l;
e.search("term",l)
};
var f=function(o,q,p){if(!i[q]){i[q]=[]
}var l=i[q];
var m;
for(var n=0;
n<l.length;
n++){if(l[n].productLine===o){m=n;
break
}}if(typeof m!=="undefined"){j=l[m]
}else{j=l[l.push({productLine:o})-1];
if(l.length>p){l.shift()
}}};
function d(l){l.term=l.term==="monthly"?"1month":l.term;
switch(l.support){case"yes":l.support="advanced";
break;
case"no":l.support="basic";
break
}return l
}return{init:function(n){var m=n.productLine;
var l=d(e.search());
var o={};
j=null;
o.support=n[k.NORMALIZED_SUPPORT_BASIC]?k.NORMALIZED_SUPPORT_BASIC:k.NORMALIZED_SUPPORT_ADVANCED;
o.term=Object.keys(n[o.support])[0];
f(m,k.PERSISTENCE.LOCAL_STORAGE_KEY,k.PERSISTENCE.MAX_STACK_SIZE);
o.update=function(q,p){if(n[q]){this.support=q;
if(n[q][p]){this.term=p
}}};
o.update(c.get("defaults","support"),c.get("defaults","subscription"));
o.update(j.support);
o.update(l.support);
g(o.support);
o.update(o.support,j.term);
o.update(o.support,l.term);
h(o.term);
j=a.extend(j,o);
return o
},setTerm:h,setSupport:g,getTerm:function(){return(j&&j.term)||""
},getSupport:function(){return(j&&j.support)||""
}}
};
b.$inject=["$localStorage","BackendDataService","$location","Constants"];
return b
});
(function(a,b){if(typeof define==="function"&&define.amd){define("ngStorage",["angular"],b)
}else{if(a.hasOwnProperty("angular")){b(a.angular)
}else{if(typeof exports==="object"){module.exports=b(require("angular"))
}}}}(this,function(a){a=(a&&a.module)?a:window.angular;
return a.module("ngStorage",[]).provider("$localStorage",b("localStorage")).provider("$sessionStorage",b("sessionStorage"));
function b(c){return function(){var d="ngStorage-";
this.setKeyPrefix=function(g){if(typeof g!=="string"){throw new TypeError("[ngStorage] - "+c+"Provider.setKeyPrefix() expects a String.")
}d=g
};
var e=a.toJson;
var f=a.fromJson;
this.setSerializer=function(g){if(typeof g!=="function"){throw new TypeError("[ngStorage] - "+c+"Provider.setSerializer expects a function.")
}e=g
};
this.setDeserializer=function(g){if(typeof g!=="function"){throw new TypeError("[ngStorage] - "+c+"Provider.setDeserializer expects a function.")
}f=g
};
this.get=function(g){return f(window[c].getItem(d+g))
};
this.set=function(g,h){return window[c].setItem(d+g,e(h))
};
this.$get=["$rootScope","$window","$log","$timeout","$document",function(n,i,p,j,k){function q(u){var r;
try{r=i[u]
}catch(t){r=false
}if(r&&u==="localStorage"){var s="__"+Math.round(Math.random()*10000000);
try{localStorage.setItem(s,s);
localStorage.removeItem(s)
}catch(t){r=false
}}return r
}var l=d.length;
var h=q(c)||(p.warn("This browser does not support Web Storage!"),{setItem:a.noop,getItem:a.noop,removeItem:a.noop}),g={$default:function(s){for(var r in s){a.isDefined(g[r])||(g[r]=a.copy(s[r]))
}g.$sync();
return g
},$reset:function(s){for(var r in g){"$"===r[0]||(delete g[r]&&h.removeItem(d+r))
}return g.$default(s)
},$sync:function(){for(var t=0,r=h.length,s;
t<r;
t++){(s=h.key(t))&&d===s.slice(0,l)&&(g[s.slice(l)]=f(h.getItem(s)))
}},$apply:function(){var s;
o=null;
if(!a.equals(g,m)){s=a.copy(m);
a.forEach(g,function(u,t){if(a.isDefined(u)&&"$"!==t[0]){h.setItem(d+t,e(u));
delete s[t]
}});
for(var r in s){h.removeItem(d+r)
}m=a.copy(g)
}}},m,o;
g.$sync();
m=a.copy(g);
n.$watch(function(){o||(o=j(g.$apply,100,false))
});
i.addEventListener&&i.addEventListener("storage",function(r){if(!r.key){return
}var s=k[0];
if((!s.hasFocus||!s.hasFocus())&&d===r.key.slice(0,l)){r.newValue?g[r.key.slice(l)]=f(r.newValue):delete g[r.key.slice(l)];
m=a.copy(g);
n.$apply()
}});
i.addEventListener&&i.addEventListener("beforeunload",function(){g.$apply()
});
return g
}]
}
}}));
define("cart-controller",["jquery","jquery.cookie","geolocation-controller","uuid"],function(d,b,a,c){function e(f){this.options=d.extend({pelicanCartLinkId:"cartLink",pelicanCartUrl:"",countTargetId:"cartSummaryItemCount",pelicanCartEndpointCount:"",pelicanCartCookieName:"cartReference",dataTargetId:"e-utility-cart-data"},f);
this.updateCartCountDisplay=function(g){d("#"+this.options.countTargetId).html(g);
d("."+this.options.dataTargetId+" i").addClass(parseInt(g)===0?"icon-cart-bubble-off":"icon-cart-bubble-on")
}
}e.prototype.updatePelicanCartCount=function(){var f=this;
var h=e.getPelicanCartId(this.options.pelicanCartCookieName);
var g=f.options.pelicanCartUrl.indexOf("/cart",f.options.pelicanCartUrl.length-5)>=0?h:localStorage.getItem("estoreVisitorId")||"";
if(g!==""&&f.options.pelicanCartEndpointCount){d.ajax({url:f.options.pelicanCartEndpointCount.replace("{{visitorId}}",g),cache:false,success:function(j){var i=Number(j.count);
if(!isNaN(i)){f.updateCartCountDisplay(i)
}}})
}else{f.updateCartCountDisplay(0)
}};
e.prototype.updatePelicanCartLink=function(){if(this.options.pelicanCartUrl){return a.getCountry().then(function(h){var g=localStorage.getItem("estoreVisitorId")||"";
var f=this.options.pelicanCartUrl.replace("{{country}}",h).replace("{{visitorId}}",g);
d("#"+this.options.pelicanCartLinkId).attr("href",f)
}.bind(this))
}return Promise.resolve()
};
e.prototype.updatePelicanCartInfo=function(){this.updatePelicanCartLink();
this.updatePelicanCartCount()
};
e.getPelicanCartId=function(h){var g;
var f="";
if(h===undefined||h===""){return f
}g=d.cookie(h);
if(g!==undefined){f=g.split("|")[0]
}return f
};
return e
});
define("adsk.estore.contentPanels",["jquery","utils","onScreenDetection","adsk.scrollTracker","AEMPublishMode"],function(g,c,b,a,f){var h={classNames:{selected:"content-panels-selected-item"},selectors:{links:".content-panels-link"},getTargetContainer:function(i){return i?i.parent():null
},verticalOffset:-100,animation:{duration:500,easing:"easeInOutQuart"},enableAnchoring:false,enableHighlighting:false},e=Object.freeze({CLICK:"click.adsk.estore.contentPanels"});
function d(j,i){if(!(this instanceof d)){throw"ContentPanels must be constructed with new."
}this.options=g.extend(true,{},h,i);
this.element=j;
this.cache={};
this.cache.links=g(this.element).find(this.options.selectors.links);
var k=this;
this.cache.targets=g();
this.cache.links.each(function(){var l=g(g(this).attr("href"));
l.data("trigger",g(this));
k.cache.targets=k.cache.targets.add(l);
g(this).on(e.CLICK,function(m){m.preventDefault();
if(k.options.enableAnchoring){k.OSD.enabled=false
}k.scrollToContent.call(k,m)
})
});
if(f&&this.options.enableAnchoring){this.OSD=new b(this.element,{mode:"top",debounceTimeout:100})
}if(this.options.enableHighlighting){a.register({onScroll:this.getClosestContent.bind(this)});
this.getClosestContent()
}}d.prototype.scrollToContent=function(k){var j=this;
var i=g(k.target).attr("href");
var l=this.options.animation;
l.finished=false;
l.complete=function(){if(!this.finished){this.finished=true;
if(j.options.enableAnchoring){j.OSD.enabled=true;
j.OSD.calculate()
}window.setTimeout(function(){window.scrollTo(0,g(i).offset().top)
},0)
}}.bind(l);
g("html, body").stop(false,true).animate({scrollTop:g(i).offset().top},l)
};
d.prototype.getClosestContent=function(){var l=this;
var i=this.cache.targets.map(function(){if(g(this).offset().top+l.options.verticalOffset<=g(window).scrollTop()){return this
}});
var j=i[i.length-1]||this.cache.targets[0];
var k=this.options.getTargetContainer(g(j).data("trigger"));
if(k&&k!=this.currentTargetContainer){if(this.currentTargetContainer){this.currentTargetContainer.removeClass(this.options.classNames.selected)
}this.currentTargetContainer=k;
this.currentTargetContainer.addClass(this.options.classNames.selected)
}};
return d
});
define("adsk.estore.menu",["jquery","visibility","AEMPublishMode","module"],function(f,p,a,c){var j={classNames:{menuOpen:"e-menu-open",layoutMode:{small:"e-menu-mode-small",large:"e-menu-mode-large"}},selectors:{navigation:".e-menu-navigation",navigationItemLink:".e-menu-navigation-item-link",navigationItemContent:".e-menu-navigation-item-content",shortcuts:{search:".e-menu-shortcuts-search",menu:".e-menu-shortcuts-menu"},hideInView:{small:".hide-in-small-view",large:".hide-in-large-view"}},isNavigationPage:c.config().isNavigationPage||false,debounceTimeout:200};
var b=Object.freeze({CLICK:"click.adsk.estore.menu",CHANGE_LAYOUT:"adsk.estore.menu.changeLayout"});
var l;
var e;
var d;
var r;
var g;
var m=Object.freeze({small:"small",large:"large"});
var n;
var k=function(u,t){d=u;
e=f.extend(true,{},j,t);
l={};
l.body=f(document.body);
l.navigation=f(d).find(e.selectors.navigation);
l.navigationItemLink=f(d).find(e.selectors.navigationItemLink);
l.shortcutsSearch=f(d).find(e.selectors.shortcuts.search);
l.shortcutsMenu=f(d).find(e.selectors.shortcuts.menu);
l.hideInView={small:f(d).find(e.selectors.hideInView.small),large:f(d).find(e.selectors.hideInView.large)};
i();
h();
f(window).on("resize",function(){window.clearTimeout(g);
g=window.setTimeout(s,e.debounceTimeout)
});
f(d).show();
q();
s()
};
var o=function(t){if(r===t){return
}if(r){l.body.removeClass(e.classNames.layoutMode[r]);
if(a||!e.isNavigationPage){l.hideInView[r].show()
}}r=t;
l.body.addClass(e.classNames.layoutMode[r]);
f(document).trigger(b.CHANGE_LAYOUT,r);
if(a||!e.isNavigationPage){l.hideInView[r].hide()
}if(r===m.large){l.shortcutsMenu.visibility.disable();
l.body.removeClass(e.classNames.menuOpen)
}if(r===m.small){l.shortcutsMenu.visibility.enable();
if(l.shortcutsMenu.visibility.isVisible()){l.body.addClass(e.classNames.menuOpen)
}}};
var i=function(){var t;
var u=function(v){if(v&&t){t.toggle()
}t=v?this:null;
l.body[l.shortcutsMenu.visibility.isVisible()?"addClass":"removeClass"](e.classNames.menuOpen)
};
l.shortcutsSearch.visibility();
l.shortcutsSearch.visibility=l.shortcutsSearch.data("plugin_visibility");
l.shortcutsSearch.visibility.options.onToggleUpdate=u;
l.shortcutsMenu.visibility();
l.shortcutsMenu.visibility=l.shortcutsMenu.data("plugin_visibility");
l.shortcutsMenu.visibility.options.onToggleUpdate=u
};
var h=function(){var t;
var u=function(v){if(v&&t){t.toggle()
}t=v?this:null;
f(document).off(b.CLICK);
window.setTimeout(function(){if(!!t){f(document).one(b.CLICK,function(){t.toggle();
t=null
})
}},0)
};
l.navigationItemLink.each(function(){var v=f(this).siblings(e.selectors.navigationItemContent);
if(v.length){f(this).data("visibilityTarget",v).addClass("visibility-hidden").visibility();
f(this).data("plugin_visibility").options.onToggleUpdate=u
}})
};
var q=function(){o(m.large);
f(d).width(2000);
n=f(d).height();
f(d).width("auto")
};
var s=function(){if(!a&&e.isNavigationPage){o(m.small);
return
}o(m.large);
if(f(d).height()>n){o(m.small)
}};
return{create:k,events:b,getOptions:function(){return e
},layoutModes:m,setLayoutMode:o}
});
define("adsk.estore.footer.accordion",["jquery","enquireRedraw","accordion"],function(c,b,a){return function(e){var g="e-footer-top";
var d=(function(i){var h=function(){j();
window.setTimeout(function(){var k=Math.max.apply(Math,i.map(function(){return c(this).height()
}));
i.each(function(){c(this).css("height",k)
})
},0)
};
var j=function(){i.each(function(){c(this).css("height","auto")
})
};
return{recalculate:h,reset:j}
})(e.find(".e-footer-col"));
e.accordion({selectors:{accordionItemContainer:".e-footer-accordion-item"},jqueryAnimations:true,closePrevious:true,autoInitialize:false,getHeading:function(h){return c(h).find(".e-footer-accordion-heading")
},onAccordionOpen:function(h){if(d.isLarge){d.recalculate()
}}});
var f=e.data("plugin_accordion");
new b({redraw:function(h){switch(h){case"large":d.recalculate();
d.isLarge=true;
if(e.hasClass(g)){f.disable()
}break;
case"medium":d.reset();
d.isLarge=false;
if(e.hasClass(g)){f.enable()
}break
}}})
}
});